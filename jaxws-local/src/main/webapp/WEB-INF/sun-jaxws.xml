<?xml version="1.0" encoding="UTF-8"?>
<endpoints version="2.0"
	xmlns="http://java.sun.com/xml/ns/jax-ws/ri/runtime">
	<endpoint implementation="com.example.ws.process.server.LongProcessService" 
		name="LongProcessService"
		url-pattern="/LongProcessService" >
		<handler-chains xmlns="http://java.sun.com/xml/ns/javaee">
			<handler-chain>
				<handler>
					<handler-class>com.example.ws.process.server.handler.LogHeadersProtocolHandler</handler-class>
				</handler>
				<handler>
					<handler-class>com.example.ws.process.server.handler.SecureCheckerHandler</handler-class>
				</handler>
			</handler-chain>
		</handler-chains>
	</endpoint>
	
	<endpoint implementation="com.example.ws.process.manager.ProcessManagerServiceImpl" 
		name="ProcessManagerService" wsdl="WEB-INF/wsdl/ProcessManagerService.wsdl" 
		service="{http://www.example.com/ProcessManagerService/}ProcessManagerService" 
		port="{http://www.example.com/ProcessManagerService/}ProcessManagerServiceSOAP"
		url-pattern="/ProcessManagerService" >
	
	<endpoint implementation="com.example.ws.topdown.TopDownServiceImpl" 
		name="TopDownService" wsdl="WEB-INF/wsdl/TopDownService.wsdl" 
		service="{http://topdown.ws.example.com/TopDownService/}TopDownService" 
		port="{http://topdown.ws.example.com/TopDownService/}TopDownServiceSOAP"
		url-pattern="/TopDownService" enable-mtom="true" ><!-- we enabled mtom in wsdl -->
		<!--  
		<handler-chains xmlns="http://java.sun.com/xml/ns/javaee">
			<handler-chain>
				<handler>
					<handler-class>com.example.ws.process.server.handler.LogMessageHandler</handler-class>
				</handler>
			</handler-chain>
		</handler-chains>-->
		<!-- #### when handlers are used, MTOM optimization does not happen.--> 
	</endpoint>
	
	<endpoint implementation="com.example.ws.process.server.PeopleService" 
		name="PeopleService"
		url-pattern="/PeopleService" >
	</endpoint>
	
	<endpoint implementation="com.example.ws.process.server.PeopleInstanceService" 
		name="PeopleInstanceService"
		url-pattern="/PeopleInstanceService" >
	</endpoint>
</endpoints>